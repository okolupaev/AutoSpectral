<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • AutoSpectral</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">AutoSpectral</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01_Full_AutoSpectral_Workflow.html">01 Full Workflow Example</a></li>
    <li><a class="dropdown-item" href="../articles/02_Control_File_example.html">02 Creating the control file</a></li>
    <li><a class="dropdown-item" href="../articles/03_Aurora_example.html">03 Aurora AutoSpectral Example</a></li>
    <li><a class="dropdown-item" href="../articles/04_ID7000_WLS_example.html">04 ID7000 WLS Example</a></li>
    <li><a class="dropdown-item" href="../articles/05_Preparing_Controls.html">05 Preparing Controls</a></li>
    <li><a class="dropdown-item" href="../articles/06_Gating.html">06 Gating</a></li>
    <li><a class="dropdown-item" href="../articles/07_Cleaning.html">07 Control clean-up</a></li>
    <li><a class="dropdown-item" href="../articles/08_Single_Cell_AutoFluorescence.html">08 Single Cell Autofluorescence</a></li>
    <li><a class="dropdown-item" href="../articles/09_Per_Cell_Optimization.html">09 Per Cell Optimization</a></li>
    <li><a class="dropdown-item" href="../articles/10_Reload_AutoSpectral.html">10 Re-running AutoSpectral</a></li>
    <li><a class="dropdown-item" href="../articles/11_Plotting.html">11 Plotting</a></li>
    <li><a class="dropdown-item" href="../articles/12_Speed_It_Up.html">12 Speed It Up (Why So Slow?)</a></li>
    <li><a class="dropdown-item" href="../articles/13_Updates_And_Issues.html">13 Updates and Issues</a></li>
    <li><a class="dropdown-item" href="../articles/14_Development.html">14 Development</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/DrCytometer/AutoSpectral/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/DrCytometer/AutoSpectral/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0.0" id="autospectral-100-2026-02-10">AutoSpectral 1.0.0 (2026-02-10)<a class="anchor" aria-label="anchor" href="#autospectral-100-2026-02-10"></a></h2>
<div class="section level3">
<h3 id="improvements-1-0-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-1-0-0"></a></h3>
<ul><li>Version 1.0.0 brings a revamp to how AutoSpectral identifies the best spectra on a per-cell basis. The theory behind it remains the same–we are still trying to identify the variation in the autofluorescence and fluorophores that best reduces the residual on a per-cell basis. Now, however, we do not need to do that using brute force. Instead, we can search only through variants (or autofluorescences) that align with a given cell’s residual. Thus we can pre-screen the variants to a select few and then test just those. This means we can figure out the solution in way less time. It also means that a native R implementation of the algorithm is possible in R in a somewhat reasonable time frame. So, that may help for anyone struggling to use the fast C++ version in <code>AutoSpectralRcpp</code>. Specifics on this will be detailed in an article on GitHub and Colibri Cytometry.</li>
<li>Since we can now quickly identify which variants are useful for a given cell, we can test more variants, allowing a finer-grained view of the variation, which may improve unmixing quality.</li>
<li>Autofluorescence extraction and fluorophore variation extraction are now modified to search for more variation, focusing on “problematic” cells that remain far from where they should be when the first batch of variation is applied. This is most helpful for extracting autofluorescence in complex tissue samples, where AutoSpectral previously struggled to deal with the last few messy cells.</li>
<li>Speed in unmixing should be the biggest change, particularly if you run using <code>AutoSpectralRcpp</code>.</li>
<li>When extracting autofluorescence using <code><a href="../reference/get.af.spectra.html">get.af.spectra()</a></code>, you will now get a set of plots showing you the unmixed data for the channels most affected by the autofluorescence (“worst channels”). The same channels will be plotted after a single round of autofluorescence extraction per cell (as in AutoSpectral v0.9.2 and earlier) as well as after the second round, using data from more difficult cells. To see this, run with <code>refine = TRUE</code>, which is the default setting now.</li>
<li>Autofluorescence is now assigned to each cell using a shortcut to “project” where the AF will impact on fluorophore or residual space. This is especially fast for residual-based assignment.</li>
<li>Perhaps most importantly, discontinuities that sometimes appeared in the data after unmixing using per-cell-fluorophore optimization, particularly with the “fast” approximation, should now be gone or at least greatly diminished.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-0-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-0-0"></a></h3>
<ul><li>Deprecation warnings in 0.9.1 were not done properly, causing errors when the deprecated arguments were specified. That should now be fixed.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.1" id="autospectral-091-2026-01-15">AutoSpectral 0.9.1 (2026-01-15)<a class="anchor" aria-label="anchor" href="#autospectral-091-2026-01-15"></a></h2>
<div class="section level3">
<h3 id="improvements-0-9-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-9-1"></a></h3>
<ul><li>Faster OLS and WLS unmixing for per-cell optimization in R in <code><a href="../reference/unmix.autospectral.html">unmix.autospectral()</a></code>. Perhaps this should be classified as a bug fix. The use of singular value decomposition rolled out in 0.9.0 will remain for matrix unmixing, but for per-cell optimization loops where the unmixing matrix is recalculated multiple times, a faster version is needed. <code><a href="../reference/unmix.ols.fast.html">unmix.ols.fast()</a></code> and <code><a href="../reference/unmix.wls.fast.html">unmix.wls.fast()</a></code> use <code><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve()</a></code> for this and have been benchmarked as the best among variously tested options for base R unmixing.</li>
</ul></div>
<div class="section level3">
<h3 id="lifecycle-warnings-0-9-1">Lifecycle warnings<a class="anchor" aria-label="anchor" href="#lifecycle-warnings-0-9-1"></a></h3>
<ul><li>The <code>calculate.error</code> option for calculation of root mean squared error (RMSE) has been deprecated as it slows down the unmixing and does not meaningfully measure the unmixing improvement.</li>
<li>The <code>time.clean</code> option for <code><a href="../reference/clean.controls.html">clean.controls()</a></code> will be deprecated. This uses PeacoQC for time-based cleaning of single-stained control files. I’ve yet to see this have an impact.</li>
<li>The <code>trim</code> option for <code><a href="../reference/clean.controls.html">clean.controls()</a></code> will be deprecated.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-1"></a></h3>
<ul><li>Switch to FlowSOM for <code>SOM()</code> support. <code><a href="https://rdrr.io/pkg/EmbedSOM/man/SOM.html" class="external-link">EmbedSOM::SOM()</a></code> appears to have a compilation error for Mac and has been removed from CRAN. Note that FlowSOM must be installed separately using BiocManager.</li>
<li>Patch to writing of “-A” in the channel names of FCS files. This was implemented in 0.9.0 but was incorrectly applied to all channels rather than just the fluorescence parameters.</li>
</ul></div>
<div class="section level3">
<h3 id="notes-0-9-1">Notes<a class="anchor" aria-label="anchor" href="#notes-0-9-1"></a></h3>
<ul><li>Dependencies have been slimmed down. <code>tidyr</code>, <code>dplyr</code> and <code>rlang</code> have all been removed in favor of base R. Base R packages <code>stats</code>, <code>utils</code> and <code>grDevices</code> are called via <code>::</code> rather than imported into the NAMESPACE.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.9.0" id="autospectral-090-2025-12-23">AutoSpectral 0.9.0 (2025-12-23)<a class="anchor" aria-label="anchor" href="#autospectral-090-2025-12-23"></a></h2>
<div class="section level3">
<h3 id="new-features-0-9-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-9-0"></a></h3>
<ul><li>Unmixing matrix can be saved via save.unmixing.matrix()</li>
<li>Weights can be calculated via calculate.weights()</li>
<li>Plotting of unmixing matrix in get.fluorophore.spectra</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-9-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-9-0"></a></h3>
<ul><li>More stable, faster parallel backend allowing mclapply in Mac when appropriate.</li>
<li>Changes to get.spectral.variants, including permanent fixing of previously user-modifiable parameters and low-level denoising of spectra.</li>
<li>More checks in check.control.file.</li>
<li>Faster AutoSpectral unmixing in base R.</li>
<li>Adjustments to reduce any discontinuities produced during unmixing.</li>
<li>See also updates in AutoSpectralRcpp, including a large speed up and general improvement to the Poisson IRLS unmixing.</li>
<li>Calculation of the unmixing matrix (Moore-Penrose pseudoinverse) will now be done using singular value decomposition <code><a href="https://rdrr.io/r/base/svd.html" class="external-link">svd()</a></code> for numerical stability for all approaches. Up to now, it has been done with normal equations via <code><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve()</a></code>. This should be better in edge cases. In most cases, the only difference will be floating point error. Calculation time is equivalent because almost all of the computational effort is on projecting the raw data into the unmixed space via the unmixing matrix, not calculating the unmixing matrix.</li>
<li>FCS files will now be written with “-A” in the channel names, e.g., “PE-A” rather than just “PE”.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-9-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-9-0"></a></h3>
<ul><li>Bug patch for situations with beads using internal negatives in get.fluor.variants</li>
<li>Patch to <code><a href="../reference/reload.flow.control.html">reload.flow.control()</a></code> bug affecting ID7000 samples.</li>
<li>Patch to <code><a href="../reference/define.flow.control.html">define.flow.control()</a></code> affecting universal negative definitions and impacting on <code><a href="../reference/clean.controls.html">clean.controls()</a></code>.</li>
<li>Patch to <code><a href="../reference/check.control.file.html">check.control.file()</a></code> affecting Opteon samples.</li>
</ul><hr></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.8.7" id="autospectral-087-2025-12-01">AutoSpectral 0.8.7 (2025-12-01)<a class="anchor" aria-label="anchor" href="#autospectral-087-2025-12-01"></a></h2>
<div class="section level3">
<h3 id="new-features-0-8-7">New features<a class="anchor" aria-label="anchor" href="#new-features-0-8-7"></a></h3>
<ul><li>Support for Symphony A5 SE</li>
<li>Support for Cytek Northern Lights</li>
<li>Shiny app for control file setup via AutoSpectralHelper</li>
<li>Marker names will now be added to the control file based on matches in the FCS file names, where possible.</li>
<li>The Hotspot(TM) matrix will be calculated and plotted as per the pre-print by Peter Mage et al.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-8-7">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-8-7"></a></h3>
<ul><li>More improvements to plotting.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Oliver Burton, Adrian Liston.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

